var DQWATCH=Class.create();DQWATCH.prototype={initialize:function(e){mergeoptions=new Object(this.defaults.merge(e));this.config=mergeoptions.toObject();this.prepareElements()},defaults:$H({productanchore:".products-grid li.item, .products-list li.item",qwUrl:"/catalog/product/dqwatch?url=",width:"600px",height:"600px"}),prepareElements:function(){$$(this.config.productanchore).each(function(e){aelem=e.down("a");var t=new Element("span",{"class":"dqwatchContainer"});t.setStyle({display:"none"});var n=new Element("a",{"class":"dqwatchAnchore"});var r=new Element("img",{"class":"dqwatchImg",alt:"Quick Watch",src:this.config.qwImg});n.insert(r);t.insert(n);e.insert(t);if(aelem.hasClassName("link-wishlist")==false&&aelem.hasClassName("link-compare")==false){var i=aelem.href.replace("http://","").replace("https://","");n.href=this.config.qwUrl+encodeURIComponent(i);n.title=aelem.title}n.observe("click",function(e){Event.stop(e);var t=Event.element(e).up("a");this.showWindow(t.href,t.title)}.bind(this));e.observe("mouseenter",function(e){Effect.SlideDown(this.down(".dqwatchContainer"),{duration:.1})});e.observe("mouseleave",function(e){Effect.SlideUp(this.down(".dqwatchContainer"),{duration:.1})})}.bind(this))},showWindow:function(e,t){var n=new Window("dlqwid",{className:"overlay_magento",title:t,draggable:false,resizable:false,closable:true,destroyOnClose:true,showEffect:Effect.Grow,showEffectOptions:{duration:.5},hideEffect:Effect.DropOut,hideEffectOptions:{duration:.5}});n.setURL(e);n.setZIndex(100);n.showCenter(true);n.setSize(this.config.width,this.config.height)}}